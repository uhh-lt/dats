{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "backend",
      "type": "debugpy",
      "request": "launch",
      "program": "${workspaceFolder}/backend/src/main.py",
      "console": "integratedTerminal",
      "justMyCode": true,
      "cwd": "${workspaceFolder}/backend",
      "envFile": "${workspaceFolder}/backend/.env",
      "env": {
        "PYTHONPATH": "${workspaceFolder}/backend/src"
      }
    },
    {
      "name": "frontend",
      "type": "node-terminal",
      "request": "launch",
      "command": "npm run dev",
      "cwd": "${workspaceFolder}/frontend",
      "envFile": "${workspaceFolder}/frontend/.env.development"
    },
    {
      "name": "celery",
      "type": "debugpy",
      "request": "launch",
      "program": "${workspaceFolder}/backend/.venv/bin/celery",
      "args": [
        "-A",
        "core.celery.background_jobs.tasks",
        "worker",
        "-Q",
        "bgJobsQ,celery",
        "-P",
        "threads",
        "-l",
        "info",
        "-c",
        "1",
        "--without-gossip",
        "--without-mingle",
        "--without-heartbeat"
      ],
      "console": "integratedTerminal",
      "justMyCode": true,
      "cwd": "${workspaceFolder}/backend",
      "envFile": "${workspaceFolder}/backend/.env",
      "env": {
        "PYTHONPATH": "${workspaceFolder}/backend/src"
      }
    },
    {
      "name": "pytest",
      "type": "debugpy",
      "request": "launch",
      "module": "pytest",
      "console": "integratedTerminal",
      "justMyCode": true,
      "cwd": "${workspaceFolder}/backend",
      "envFile": "${workspaceFolder}/backend/.env",
      "env": {
        "PYTHONPATH": "${workspaceFolder}/backend/src",
        "RESET_DATABASE_FOR_TESTING": "1"
      }
    },
    {
      "name": "pyright",
      "type": "node-terminal",
      "request": "launch",
      "command": "uv run pyright",
      "cwd": "${workspaceFolder}/backend",
      "envFile": "${workspaceFolder}/backend/.env",
      "env": {
        "PYTHONPATH": "${workspaceFolder}/backend/src"
      }
    },
    {
      "name": "Alembic: migrate",
      "type": "debugpy",
      "request": "launch",
      "program": "${workspaceFolder}/backend/src/migrations/run_migrations.py",
      "console": "integratedTerminal",
      "justMyCode": true,
      "cwd": "${workspaceFolder}/backend",
      "envFile": "${workspaceFolder}/backend/.env",
      "env": {
        "PYTHONPATH": "${workspaceFolder}/backend/src"
      }
    },
    {
      "name": "Alembic: check",
      "type": "node-terminal",
      "request": "launch",
      "command": "uv run alembic -c src/migrations/alembic.ini check",
      "cwd": "${workspaceFolder}/backend",
      "envFile": "${workspaceFolder}/backend/.env",
      "env": {
        "PYTHONPATH": "${workspaceFolder}/backend/src"
      }
    },
    {
      "name": "Alembic: revision",
      "type": "node-terminal",
      "request": "launch",
      "command": "uv run alembic -c src/migrations/alembic.ini revision --autogenerate -m \"vscode launcher\"",
      "cwd": "${workspaceFolder}/backend",
      "envFile": "${workspaceFolder}/backend/.env",
      "env": {
        "PYTHONPATH": "${workspaceFolder}/backend/src"
      }
    }
  ]
}
